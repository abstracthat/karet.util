!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("ramda"),require("kefir.atom"),require("kefir"),require("infestines"),require("partial.lenses"),require("kefir.combines"),require("karet"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","ramda","kefir.atom","kefir","infestines","partial.lenses","kefir.combines","karet","prop-types"],e):e((t.karet=t.karet||{},t.karet.util={}),t.R,t.kefir.atom,t.Kefir,t.I,t.L,t.kefir.combines,t.karet,t.PropTypes)}(this,function(t,e,r,n,i,a,o,u,c){"use strict";function s(t){var e=void 0,r=void 0;return function(n){r&&(e.offAny(r),e=r=null),n&&(r=function(t){switch(t.type){case"value":var i=t.value;for(var a in i)n[a]=i[a];break;case"error":throw t.value;case"end":e=r=null}},(e=d(t)).onAny(r))}}function l(t){var e=function(e,r){var n=r.context;return t(e,n)};return e.contextTypes=at,e}var p="default"in o?o.default:o,f="default"in u?u.default:u;c=c&&c.hasOwnProperty("default")?c.default:c;var h=function(t){return o.lift(i.pipe2U(t,o.lift))},d=function(t){return p(t,i.id)},y=function(t){},m=function(t){return t instanceof n.Observable?t:n.constant(t)},g=function(t,e){return t&&t(e)},v=function(t){return function(e){var r=e.type,n=e.value;return g(t[r],n)}},W=i.curry(function(t,e){return m(e).debounce(t)}),k=n.merge,M=i.curry(function(t,e){return m(e).delay(t)}),x=i.curry(function(t,e){return m(e).concat(m(t))}),b=i.curry(function(t,e){return m(e).map(t)}),q=i.curry(function(t,e){return m(e).flatMap(i.pipe2U(t,m))}),w=i.curry(function(t,e){return m(e).flatMapConcat(i.pipe2U(t,m))}),A=i.curry(function(t,e){return m(e).flatMapErrors(i.pipe2U(t,m))}),P=i.curry(function(t,e){return m(e).flatMapLatest(i.pipe2U(t,m))}),B=i.curry(function(t,e,r){return m(r).scan(t,e)}),I=i.curry(n.interval),j=i.curry(n.later),E=n.never(),O=i.curry(function(t,e){return m(e).onAny(v(t))}),S=i.curry(function(t,e){return m(e).sampledBy(t)}),L=i.curry(function(t,e){return m(e).skip(t)}),U=i.curry(function(t,e){return m(e).skipDuplicates(t)}),D=i.curry(function(t,e){return m(e).filter(t)}),N=i.curry(function(t,e){return m(e).filter(function(e){return!t(e)})}),z=i.curry(function(t,e){return m(e).toProperty(function(){return t})}),C=i.pipe2U(z(void 0),o.lift(y)),R=i.curry(function(t,e){return m(e).take(t)}),_=i.curry(function(t,e){return m(e).takeUntilBy(t)}),T=function(t){return m(t).toProperty()},K=i.curry(function(t,e){return m(e).throttle(t)}),F=i.curry(n.fromEvents),J=i.curry(function(t,e){var r=p(e,function(e){return t.set(e)});if(r instanceof n.Observable)return r.toProperty(y)}),V=i.inherit(function(){n.Stream.call(this)},n.Stream,{push:function(t){this._emitValue(t)},error:function(t){this._emitError(t)},end:function(){this._emitEnd()}}),H=function(t){return function(e){var r=e.target;for(var n in t)t[n].set(r[n])}},G=o.lift1(a.join(" ",[a.flatten,a.when(i.id)])),Q=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return G(e)},X=[{},[]],Y=function(t){return function(e,r){for(var n=e[0],a=e[1],o={},u=r.length,c=u!==a.length,s=Array(u),l=0;l<u;++l){var p=r[l],f=p.toString(),h=void 0;h=i.hasU(f,o)?o[f]:o[f]=i.hasU(f,n)?n[f]:t(p),s[l]=h,c||(c=h!==a[l])}return c?[o,s]:e}},Z=o.lift1Shallow(function(t){return t[1]}),$=i.curryN(2,function(t){return i.pipe2U(B(Y(t),X),Z)}),tt=i.curryN(2,function(t){return o.lift1(function(e){return e.map(function(e,r){return t(e,r)})})}),et=function(t,e,r){return T(P(function(t){return t?e:r},t))},rt=i.curry(et),nt=i.arityN(2,et),it=i.curry(function(t,e){return e instanceof r.AbstractMutable?t instanceof n.Observable?new r.Join(p(t,function(t){return e.view(t)})):e.view(t):p(t,e,a.get)}),at={context:c.any},ot=i.inherit(function t(e){t.childContextTypes=at,f.Component.call(this,e)},f.Component,{getChildContext:function(){return{context:this.props.context}},render:function(){return this.props.children}}),ut=l(function(t,e){var r=t.Do;return f.createElement(r,e)}),ct=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){for(var t=0,r=e.length;t<r;++t)e[t]instanceof Function&&e[t].apply(e,arguments)}},st=function(t){return function(e){return e&&t(e)}},lt=st(function(t){return function(e){return function(r){return t(e,r)}}}),pt=st(function(t){return function(e){return function(r,n){return t(e,r,n)}}}),ft=st(o.lift),ht=st(h),dt=st(o.lift1),yt=st(o.lift1Shallow),mt=e.F,gt=e.T,vt=e.__,Wt=ft(e.add),kt=ht(e.addIndex),Mt=ft(e.adjust),xt=ft(e.all),bt=ht(e.allPass),qt=e.always,wt=ft(e.and),At=ft(e.any),Pt=ht(e.anyPass),Bt=ft(e.ap),It=ft(e.aperture),jt=ft(e.append),Et=ft(e.apply),Ot=ft(e.applySpec),St=ft(pt(e.ascend)),Lt=ft(e.assoc),Ut=ft(e.assocPath),Dt=ht(e.binary),Nt=ht(e.both),zt=ht(e.call),Ct=ft(e.chain),Rt=ft(e.clamp),_t=ht(e.comparator),Tt=ht(e.complement),Kt=ht(e.compose),Ft=ft(e.concat),Jt=ht(e.cond),Vt=ht(e.construct),Ht=ht(e.constructN),Gt=ft(e.contains),Qt=ht(e.converge),Xt=ft(e.countBy),Yt=ht(e.curry),Zt=ht(e.curryN),$t=ft(e.dec),te=ft(e.defaultTo),ee=ft(pt(e.descend)),re=ft(e.difference),ne=ft(e.differenceWith),ie=ft(e.dissoc),ae=ft(e.dissocPath),oe=ft(e.divide),ue=ft(e.drop),ce=ft(e.dropLast),se=ft(e.dropLastWhile),le=ft(e.dropRepeats),pe=ft(e.dropRepeatsWith),fe=ft(e.dropWhile),he=ht(e.either),de=ft(e.empty),ye=ft(e.endsWith),me=ft(pt(e.eqBy)),ge=ft(pt(e.eqProps)),ve=ft(e.equals),We=ft(e.evolve),ke=ft(e.filter),Me=ft(e.find),xe=ft(e.findIndex),be=ft(e.findLast),qe=ft(e.findLastIndex),we=ft(e.flatten),Ae=ht(e.flip),Pe=ft(e.fromPairs),Be=ft(e.groupBy),Ie=ft(e.groupWith),je=ft(e.gt),Ee=ft(e.gte),Oe=ft(e.has),Se=ft(e.hasIn),Le=ft(e.head),Ue=ft(e.identical),De=e.identity,Ne=ht(e.ifElse),ze=ft(e.inc),Ce=ft(e.indexBy),Re=ft(e.indexOf),_e=ft(e.init),Te=ft(e.innerJoin),Ke=ft(e.insert),Fe=ft(e.insertAll),Je=ft(e.intersection),Ve=ft(e.intersperse),He=ft(e.into),Ge=ft(e.invert),Qe=ft(e.invertObj),Xe=ht(e.invoker),Ye=ft(lt(e.is)),Ze=ft(e.isEmpty),$e=ft(e.isNil),tr=ft(e.join),er=ht(e.juxt),rr=yt(e.keys),nr=ft(e.keysIn),ir=ft(e.last),ar=ft(e.lastIndexOf),or=yt(e.length),ur=ft(e.lt),cr=ft(e.lte),sr=ft(e.map),lr=ft(e.mapAccum),pr=ft(e.mapAccumRight),fr=ft(e.mapObjIndexed),hr=ft(e.match),dr=ft(e.mathMod),yr=ft(e.max),mr=ft(e.maxBy),gr=ft(e.mean),vr=ft(e.median),Wr=ht(e.memoize),kr=ht(e.memoizeWith),Mr=ft(e.merge),xr=ft(e.mergeAll),br=ft(e.mergeDeepLeft),qr=ft(e.mergeDeepRight),wr=ft(e.mergeDeepWith),Ar=ft(e.mergeDeepWithKey),Pr=ft(e.mergeWith),Br=ft(e.mergeWithKey),Ir=ft(e.min),jr=ft(e.minBy),Er=ft(e.modulo),Or=ft(e.multiply),Sr=ht(e.nAry),Lr=ft(e.negate),Ur=ft(e.none),Dr=ft(e.not),Nr=ft(e.nth),zr=ht(e.nthArg),Cr=ft(e.o),Rr=ft(e.objOf),_r=ft(e.of),Tr=ft(e.omit),Kr=ft(e.or),Fr=ft(e.pair),Jr=ht(e.partial),Vr=ht(e.partialRight),Hr=ft(e.partition),Gr=ft(e.path),Qr=ft(e.pathEq),Xr=ft(e.pathOr),Yr=ft(e.pathSatisfies),Zr=ft(e.pick),$r=ft(e.pickAll),tn=ft(e.pickBy),en=ht(e.pipe),rn=ft(e.pluck),nn=ft(e.prepend),an=ft(e.product),on=ft(e.project),un=ft(e.prop),cn=ft(e.propEq),sn=ft(e.propIs),ln=ft(e.propOr),pn=ft(e.propSatisfies),fn=ft(e.props),hn=ft(e.range),dn=ft(e.reduce),yn=ft(e.reduceBy),mn=ft(e.reduceRight),gn=ft(e.reduceWhile),vn=ft(e.reduced),Wn=ft(e.reject),kn=ft(e.remove),Mn=ft(e.repeat),xn=ft(e.replace),bn=ft(e.reverse),qn=ft(e.scan),wn=ft(e.sequence),An=ft(e.slice),Pn=ft(e.sort),Bn=ft(e.sortBy),In=ft(e.sortWith),jn=ft(e.split),En=ft(e.splitAt),On=ft(e.splitEvery),Sn=ft(e.splitWhen),Ln=ft(e.startsWith),Un=ft(e.subtract),Dn=ft(e.sum),Nn=ft(e.symmetricDifference),zn=ft(e.symmetricDifferenceWith),Cn=ft(e.tail),Rn=ft(e.take),_n=ft(e.takeLast),Tn=ft(e.takeLastWhile),Kn=ft(e.takeWhile),Fn=ft(e.tap),Jn=ft(e.test),Vn=ft(e.times),Hn=ft(e.toLower),Gn=ft(e.toPairs),Qn=ft(e.toPairsIn),Xn=ft(e.toString),Yn=ft(e.toUpper),Zn=ft(e.transduce),$n=ft(e.transpose),ti=ft(e.traverse),ei=ft(e.trim),ri=ht(e.tryCatch),ni=ft(e.type),ii=ht(e.unapply),ai=ht(e.unary),oi=ht(e.uncurryN),ui=ft(e.unfold),ci=ft(e.union),si=ft(e.unionWith),li=ft(e.uniq),pi=ft(e.uniqBy),fi=ft(e.uniqWith),hi=ft(e.unless),di=ft(e.unnest),yi=ft(e.until),mi=ft(e.update),gi=ht(e.useWith),vi=dt(e.values),Wi=ft(e.valuesIn),ki=ft(e.when),Mi=ht(lt(e.where)),xi=ht(lt(e.whereEq)),bi=ft(e.without),qi=ft(e.xprod),wi=ft(e.zip),Ai=ft(e.zipObj),Pi=ft(e.zipWith),Bi=yt(Math.abs),Ii=yt(Math.acos),ji=yt(Math.acosh),Ei=yt(Math.asin),Oi=yt(Math.asinh),Si=yt(Math.atan),Li=ft(Math.atan2),Ui=yt(Math.atanh),Di=yt(Math.cbrt),Ni=yt(Math.ceil),zi=yt(Math.clz32),Ci=yt(Math.cos),Ri=yt(Math.cosh),_i=yt(Math.exp),Ti=yt(Math.expm1),Ki=yt(Math.floor),Fi=yt(Math.fround),Ji=ft(Math.hypot),Vi=ft(Math.imul),Hi=yt(Math.log),Gi=yt(Math.log10),Qi=yt(Math.log1p),Xi=yt(Math.log2),Yi=ft(Math.pow),Zi=yt(Math.round),$i=yt(Math.sign),ta=yt(Math.sin),ea=yt(Math.sinh),ra=yt(Math.sqrt),na=yt(Math.tan),ia=yt(Math.tanh),aa=yt(Math.trunc),oa=i.pipe2U(or,o.lift1Shallow(e.range(0))),ua=i.curry(function(t,e){return i.seq(e,B(function(r,n){var i=n.length,a=r.length;if(i===a)return r;for(var o=Array(i),u=0;u<i;++u)o[u]=u<a?r[u]:t(it(u,e),u);return o},[]),U(i.identicalU))}),ca=i.curry(function(t,e,r){var n={},o=a.findHint(function(e,r){return t(e)===r.id});return i.seq(r,B(function(i,a){for(var u=a.length,c=i.length===u?i:Array(u),s=0;s<u;++s){var l=t(a[s]),p=n[l];void 0===p&&((p=n[l]={}).id=l,p.hint=s,p.elem=e(it(o(p),r),l)),c[s]!==p.elem&&(p.hint=s,c===i&&(c=c.slice(0)),c[s]=p.elem)}if(c!==i)for(var f in n){var h=n[f];c[h.hint]!==h.elem&&delete n[f]}return c},[]),U(i.identicalU))});t.default=p,t.lift=o.lift,t.lift1=o.lift1,t.lift1Shallow=o.lift1Shallow,t.liftStaged=h,t.template=d,t.fromKefir=u.fromKefir,t.debounce=W,t.changes=function(t){return m(t).changes()},t.serially=function(t){return n.concat(e.map(m,t))},t.parallel=k,t.delay=M,t.endWith=x,t.mapValue=b,t.flatMapParallel=q,t.flatMapSerial=w,t.flatMapErrors=A,t.flatMapLatest=P,t.foldPast=B,t.interval=I,t.later=j,t.lazy=function(t){return i.seq(T(),P(t),T)},t.never=E,t.on=O,t.sampledBy=S,t.skipFirst=L,t.skipDuplicates=U,t.skipUnless=D,t.skipWhen=N,t.startWith=z,t.sink=C,t.takeFirst=R,t.takeUntilBy=_,t.toProperty=T,t.throttle=K,t.fromEvents=F,t.set=J,t.Bus=V,t.bus=function(){return new V},t.refTo=function(t){return function(e){null!==e&&t.set(e)}},t.seq=i.seq,t.seqPartial=i.seqPartial,t.scope=function(t){return t()},t.toPartial=function(t){return o.lift(i.arityN(t.length,function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.all(i.isDefined,n)?t.apply(void 0,n):void 0}))},t.show=function(t){return console.log(t)||t},t.staged=function(t){return e.curryN(t.length,function(){for(var e=arguments.length,r=t.length,n=Math.min(e,r),i=Array(n),a=0;a<n;++a)i[a]=arguments[a];var o=t.apply(null,i);if(r===e)return o;for(var u=e-n,c=Array(u),s=0;s<u;++s)c[s]=arguments[s+n];return o.apply(null,c)})},t.setProps=s,t.getProps=H,t.bindProps=function(t){var e=t.ref,r=i.dissocPartialU("ref",t),n={ref:s(r)};return n[e]=H(r),n},t.bind=function(t){return i.assocPartialU("onChange",H(t),t)},t.cns=Q,t.classes=function(){return{className:Q.apply(void 0,arguments)}},t.mapCached=$,t.mapIndexed=tt,t.ifte=rt,t.ift=nt,t.iftes=function(t,e){for(var r=arguments.length,n=1&r?arguments[--r]:void 0;0<=(r-=2);)n=et(arguments[r],arguments[r+1],n);return n},t.view=it,t.Context=ot,t.withContext=l,t.WithContext=ut,t.actions=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return p.apply(void 0,e.concat([ct]))},t.string=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return p.apply(void 0,r.concat([function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return String.raw.apply(String,[t].concat(r))}]))},t.atom=function(t){return new r.Atom(t)},t.variable=function(){return new r.Atom},t.molecule=function(t){return new r.Molecule(t)},t.holding=r.holding,t.F=mt,t.T=gt,t.__=vt,t.add=Wt,t.addIndex=kt,t.adjust=Mt,t.all=xt,t.allPass=bt,t.always=qt,t.and=wt,t.any=At,t.anyPass=Pt,t.ap=Bt,t.aperture=It,t.append=jt,t.apply=Et,t.applySpec=Ot,t.ascend=St,t.assoc=Lt,t.assocPath=Ut,t.binary=Dt,t.both=Nt,t.call=zt,t.chain=Ct,t.clamp=Rt,t.comparator=_t,t.complement=Tt,t.compose=Kt,t.concat=Ft,t.cond=Jt,t.construct=Vt,t.constructN=Ht,t.contains=Gt,t.converge=Qt,t.countBy=Xt,t.curry=Yt,t.curryN=Zt,t.dec=$t,t.defaultTo=te,t.descend=ee,t.difference=re,t.differenceWith=ne,t.dissoc=ie,t.dissocPath=ae,t.divide=oe,t.drop=ue,t.dropLast=ce,t.dropLastWhile=se,t.dropRepeats=le,t.dropRepeatsWith=pe,t.dropWhile=fe,t.either=he,t.empty=de,t.endsWith=ye,t.eqBy=me,t.eqProps=ge,t.equals=ve,t.evolve=We,t.filter=ke,t.find=Me,t.findIndex=xe,t.findLast=be,t.findLastIndex=qe,t.flatten=we,t.flip=Ae,t.fromPairs=Pe,t.groupBy=Be,t.groupWith=Ie,t.gt=je,t.gte=Ee,t.has=Oe,t.hasIn=Se,t.head=Le,t.identical=Ue,t.identity=De,t.ifElse=Ne,t.inc=ze,t.indexBy=Ce,t.indexOf=Re,t.init=_e,t.innerJoin=Te,t.insert=Ke,t.insertAll=Fe,t.intersection=Je,t.intersperse=Ve,t.into=He,t.invert=Ge,t.invertObj=Qe,t.invoker=Xe,t.is=Ye,t.isEmpty=Ze,t.isNil=$e,t.join=tr,t.juxt=er,t.keys=rr,t.keysIn=nr,t.last=ir,t.lastIndexOf=ar,t.length=or,t.lt=ur,t.lte=cr,t.map=sr,t.mapAccum=lr,t.mapAccumRight=pr,t.mapObjIndexed=fr,t.match=hr,t.mathMod=dr,t.max=yr,t.maxBy=mr,t.mean=gr,t.median=vr,t.memoize=Wr,t.memoizeWith=kr,t.merge=Mr,t.mergeAll=xr,t.mergeDeepLeft=br,t.mergeDeepRight=qr,t.mergeDeepWith=wr,t.mergeDeepWithKey=Ar,t.mergeWith=Pr,t.mergeWithKey=Br,t.min=Ir,t.minBy=jr,t.modulo=Er,t.multiply=Or,t.nAry=Sr,t.negate=Lr,t.none=Ur,t.not=Dr,t.nth=Nr,t.nthArg=zr,t.o=Cr,t.objOf=Rr,t.of=_r,t.omit=Tr,t.or=Kr,t.pair=Fr,t.partial=Jr,t.partialRight=Vr,t.partition=Hr,t.path=Gr,t.pathEq=Qr,t.pathOr=Xr,t.pathSatisfies=Yr,t.pick=Zr,t.pickAll=$r,t.pickBy=tn,t.pipe=en,t.pluck=rn,t.prepend=nn,t.product=an,t.project=on,t.prop=un,t.propEq=cn,t.propIs=sn,t.propOr=ln,t.propSatisfies=pn,t.props=fn,t.range=hn,t.reduce=dn,t.reduceBy=yn,t.reduceRight=mn,t.reduceWhile=gn,t.reduced=vn,t.reject=Wn,t.remove=kn,t.repeat=Mn,t.replace=xn,t.reverse=bn,t.scan=qn,t.sequence=wn,t.slice=An,t.sort=Pn,t.sortBy=Bn,t.sortWith=In,t.split=jn,t.splitAt=En,t.splitEvery=On,t.splitWhen=Sn,t.startsWith=Ln,t.subtract=Un,t.sum=Dn,t.symmetricDifference=Nn,t.symmetricDifferenceWith=zn,t.tail=Cn,t.take=Rn,t.takeLast=_n,t.takeLastWhile=Tn,t.takeWhile=Kn,t.tap=Fn,t.test=Jn,t.times=Vn,t.toLower=Hn,t.toPairs=Gn,t.toPairsIn=Qn,t.toString=Xn,t.toUpper=Yn,t.transduce=Zn,t.transpose=$n,t.traverse=ti,t.trim=ei,t.tryCatch=ri,t.type=ni,t.unapply=ii,t.unary=ai,t.uncurryN=oi,t.unfold=ui,t.union=ci,t.unionWith=si,t.uniq=li,t.uniqBy=pi,t.uniqWith=fi,t.unless=hi,t.unnest=di,t.until=yi,t.update=mi,t.useWith=gi,t.values=vi,t.valuesIn=Wi,t.when=ki,t.where=Mi,t.whereEq=xi,t.without=bi,t.xprod=qi,t.zip=wi,t.zipObj=Ai,t.zipWith=Pi,t.abs=Bi,t.acos=Ii,t.acosh=ji,t.asin=Ei,t.asinh=Oi,t.atan=Si,t.atan2=Li,t.atanh=Ui,t.cbrt=Di,t.ceil=Ni,t.clz32=zi,t.cos=Ci,t.cosh=Ri,t.exp=_i,t.expm1=Ti,t.floor=Ki,t.fround=Fi,t.hypot=Ji,t.imul=Vi,t.log=Hi,t.log10=Gi,t.log1p=Qi,t.log2=Xi,t.pow=Yi,t.round=Zi,t.sign=$i,t.sin=ta,t.sinh=ea,t.sqrt=ra,t.tan=na,t.tanh=ia,t.trunc=aa,t.indices=oa,t.mapElems=ua,t.mapElemsWithIds=ca,Object.defineProperty(t,"__esModule",{value:!0})});
