!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("ramda"),require("kefir.atom"),require("kefir"),require("infestines"),require("partial.lenses"),require("kefir.combines"),require("karet"),require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","ramda","kefir.atom","kefir","infestines","partial.lenses","kefir.combines","karet","react","prop-types"],e):e((t.karet=t.karet||{},t.karet.util={}),t.R,t.kefir.atom,t.Kefir,t.I,t.L,t.kefir.combines,t.karet,t.React,t.PropTypes)}(this,function(t,e,r,n,i,a,o,u,c,s){"use strict";function l(t){var e=void 0,r=void 0;return function(n){r&&(e.offAny(r),e=r=null),n&&(r=function(t){switch(t.type){case"value":var i=t.value;for(var a in i)n[a]=i[a];break;case"error":throw t.value;case"end":e=r=null}},(e=d(t)).onAny(r))}}function p(t){var e=function(e,r){var n=r.context;return t(e,n)};return e.contextTypes=nt,e}var f="default"in o?o.default:o;s=s&&s.hasOwnProperty("default")?s.default:s;var h=function(t){return o.lift(i.pipe2U(t,o.lift))},d=function(t){return f(t,i.id)},y=function(t){},m=function(t){return t instanceof n.Observable?t:n.constant(t)},g=i.curry(function(t,e){return m(e).debounce(t)}),v=n.merge,M=i.curry(function(t,e){return m(e).delay(t)}),k=i.curry(function(t,e){return m(e).concat(m(t))}),W=i.curry(function(t,e){return m(e).map(t)}),x=i.curry(function(t,e){return m(e).flatMap(i.pipe2U(t,m))}),w=i.curry(function(t,e){return m(e).flatMapConcat(i.pipe2U(t,m))}),b=i.curry(function(t,e){return m(e).flatMapErrors(i.pipe2U(t,m))}),q=i.curry(function(t,e){return m(e).flatMapLatest(i.pipe2U(t,m))}),P=i.curry(function(t,e,r){return m(r).scan(t,e)}),A=i.curry(n.interval),B=i.curry(n.later),I=n.never(),O=i.curry(function(t,e){return m(e).onAny(function(t){return function(e){var r=e.type,n=e.value;return function(t,e){return t&&t(e)}(t[r],n)}}(t))}),E=i.curry(function(t,e){return m(e).sampledBy(t)}),j=i.curry(function(t,e){return m(e).skip(t)}),S=i.curry(function(t,e){return m(e).skipDuplicates(t)}),L=S(i.identicalU),D=i.curry(function(t,e){return m(e).filter(t)}),N=i.curry(function(t,e){return m(e).filter(function(e){return!t(e)})}),U=i.curry(function(t,e){return m(e).toProperty(function(){return t})}),R=i.pipe2U(U(void 0),o.lift(y)),C=i.curry(function(t,e){return m(e).take(t)}),z=i.curry(function(t,e){return m(e).takeUntilBy(t)}),_=function(t){return m(t).toProperty()},T=i.curry(function(t,e){return m(e).throttle(t)}),K=i.curry(n.fromEvents),F=i.curry(function(t,e){var r=f(e,function(e){return t.set(e)});if(r instanceof n.Observable)return r.toProperty(y)}),J=i.inherit(function(){n.Stream.call(this)},n.Stream,{push:function(t){this._emitValue(t)},error:function(t){this._emitError(t)},end:function(){this._emitEnd()}}),V=function(t){return function(e){var r=e.target;for(var n in t)t[n].set(r[n])}},G=o.lift1(a.join(" ",[a.flatten,a.when(i.id)])),H=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return G(e)},Q=[new Map,[]],X=o.lift1Shallow(function(t){return t[1]}),Y=i.curryN(2,function(t){return i.pipe2U(P(function(t){return function(e,r){for(var n=e[0],i=e[1],a=new Map,o=r.length,u=o!==i.length,c=Array(o),s=0;s<o;++s){var l=r[s],p=void 0;a.has(l)?p=a.get(l):a.set(l,p=n.has(l)?n.get(l):t(l)),c[s]=p,u||(u=p!==i[s])}return u?[a,c]:e}}(t),Q),X)}),Z=i.curryN(2,function(t){return o.lift1(function(e){return e.map(function(e,r){return t(e,r)})})}),$=function(t,e,r){return _(q(function(t){return t?e:r},t))},tt=i.curry($),et=i.arityN(2,$),rt=i.curry(function(t,e){return e instanceof r.AbstractMutable?t instanceof n.Observable?new r.Join(f(t,function(t){return e.view(t)})):e.view(t):f(t,e,a.get)}),nt={context:s.any},it=i.inherit(function(t){c.Component.call(this,t)},c.Component,{getChildContext:function(){return{context:this.props.context}},render:function(){return this.props.children}},{childContextTypes:nt}),at=p(function(t,e){var r=t.Do;return React.createElement(r,e)}),ot=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(){for(var t=0,r=e.length;t<r;++t)e[t]instanceof Function&&e[t].apply(e,arguments)}},ut=function(t){return function(e){return e&&t(e)}},ct=ut(function(t){return function(e){return function(r){return t(e,r)}}}),st=ut(function(t){return function(e){return function(r,n){return t(e,r,n)}}}),lt=ut(o.lift),pt=ut(h),ft=ut(o.lift1),ht=ut(o.lift1Shallow),dt=e.F,yt=e.T,mt=e.__,gt=lt(e.add),vt=pt(e.addIndex),Mt=lt(e.adjust),kt=lt(e.all),Wt=pt(e.allPass),xt=e.always,wt=lt(e.and),bt=lt(e.any),qt=pt(e.anyPass),Pt=lt(e.ap),At=lt(e.aperture),Bt=lt(e.append),It=lt(e.apply),Ot=lt(e.applySpec),Et=lt(e.applyTo),jt=lt(st(e.ascend)),St=lt(e.assoc),Lt=lt(e.assocPath),Dt=pt(e.binary),Nt=pt(e.both),Ut=pt(e.call),Rt=lt(e.chain),Ct=lt(e.clamp),zt=pt(e.comparator),_t=pt(e.complement),Tt=pt(e.compose),Kt=lt(e.concat),Ft=pt(e.cond),Jt=pt(e.construct),Vt=pt(e.constructN),Gt=lt(e.contains),Ht=pt(e.converge),Qt=lt(e.countBy),Xt=pt(e.curry),Yt=pt(e.curryN),Zt=lt(e.dec),$t=lt(e.defaultTo),te=lt(st(e.descend)),ee=lt(e.difference),re=lt(e.differenceWith),ne=lt(e.dissoc),ie=lt(e.dissocPath),ae=lt(e.divide),oe=lt(e.drop),ue=lt(e.dropLast),ce=lt(e.dropLastWhile),se=lt(e.dropRepeats),le=lt(e.dropRepeatsWith),pe=lt(e.dropWhile),fe=pt(e.either),he=lt(e.empty),de=lt(e.endsWith),ye=lt(st(e.eqBy)),me=lt(st(e.eqProps)),ge=lt(e.equals),ve=lt(e.evolve),Me=lt(e.filter),ke=lt(e.find),We=lt(e.findIndex),xe=lt(e.findLast),we=lt(e.findLastIndex),be=lt(e.flatten),qe=pt(e.flip),Pe=lt(e.fromPairs),Ae=lt(e.groupBy),Be=lt(e.groupWith),Ie=lt(e.gt),Oe=lt(e.gte),Ee=lt(e.has),je=lt(e.hasIn),Se=lt(e.head),Le=lt(e.identical),De=e.identity,Ne=pt(e.ifElse),Ue=lt(e.inc),Re=lt(e.indexBy),Ce=lt(e.indexOf),ze=lt(e.init),_e=lt(e.innerJoin),Te=lt(e.insert),Ke=lt(e.insertAll),Fe=lt(e.intersection),Je=lt(e.intersperse),Ve=lt(e.into),Ge=lt(e.invert),He=lt(e.invertObj),Qe=pt(e.invoker),Xe=lt(ct(e.is)),Ye=lt(e.isEmpty),Ze=lt(e.isNil),$e=lt(e.join),tr=pt(e.juxt),er=ht(e.keys),rr=lt(e.keysIn),nr=lt(e.last),ir=lt(e.lastIndexOf),ar=ht(e.length),or=lt(e.lt),ur=lt(e.lte),cr=lt(e.map),sr=lt(e.mapAccum),lr=lt(e.mapAccumRight),pr=lt(e.mapObjIndexed),fr=lt(e.match),hr=lt(e.mathMod),dr=lt(e.max),yr=lt(e.maxBy),mr=lt(e.mean),gr=lt(e.median),vr=pt(e.memoizeWith),Mr=lt(e.merge),kr=lt(e.mergeAll),Wr=lt(e.mergeDeepLeft),xr=lt(e.mergeDeepRight),wr=lt(e.mergeDeepWith),br=lt(e.mergeDeepWithKey),qr=lt(e.mergeWith),Pr=lt(e.mergeWithKey),Ar=lt(e.min),Br=lt(e.minBy),Ir=lt(e.modulo),Or=lt(e.multiply),Er=pt(e.nAry),jr=lt(e.negate),Sr=lt(e.none),Lr=lt(e.not),Dr=lt(e.nth),Nr=pt(e.nthArg),Ur=lt(e.o),Rr=lt(e.objOf),Cr=lt(e.of),zr=lt(e.omit),_r=lt(e.or),Tr=lt(e.pair),Kr=pt(e.partial),Fr=pt(e.partialRight),Jr=lt(e.partition),Vr=lt(e.path),Gr=lt(e.pathEq),Hr=lt(e.pathOr),Qr=lt(e.pathSatisfies),Xr=lt(e.pick),Yr=lt(e.pickAll),Zr=lt(e.pickBy),$r=pt(e.pipe),tn=lt(e.pluck),en=lt(e.prepend),rn=lt(e.product),nn=lt(e.project),an=lt(e.prop),on=lt(e.propEq),un=lt(e.propIs),cn=lt(e.propOr),sn=lt(e.propSatisfies),ln=lt(e.props),pn=lt(e.range),fn=lt(e.reduce),hn=lt(e.reduceBy),dn=lt(e.reduceRight),yn=lt(e.reduceWhile),mn=lt(e.reduced),gn=lt(e.reject),vn=lt(e.remove),Mn=lt(e.repeat),kn=lt(e.replace),Wn=lt(e.reverse),xn=lt(e.scan),wn=lt(e.sequence),bn=lt(e.slice),qn=lt(e.sort),Pn=lt(e.sortBy),An=lt(e.sortWith),Bn=lt(e.split),In=lt(e.splitAt),On=lt(e.splitEvery),En=lt(e.splitWhen),jn=lt(e.startsWith),Sn=lt(e.subtract),Ln=lt(e.sum),Dn=lt(e.symmetricDifference),Nn=lt(e.symmetricDifferenceWith),Un=lt(e.tail),Rn=lt(e.take),Cn=lt(e.takeLast),zn=lt(e.takeLastWhile),_n=lt(e.takeWhile),Tn=lt(e.tap),Kn=lt(e.test),Fn=lt(e.times),Jn=lt(e.toLower),Vn=lt(e.toPairs),Gn=lt(e.toPairsIn),Hn=lt(e.toString),Qn=lt(e.toUpper),Xn=lt(e.transduce),Yn=lt(e.transpose),Zn=lt(e.traverse),$n=lt(e.trim),ti=pt(e.tryCatch),ei=lt(e.type),ri=pt(e.unapply),ni=pt(e.unary),ii=pt(e.uncurryN),ai=lt(e.unfold),oi=lt(e.union),ui=lt(e.unionWith),ci=lt(e.uniq),si=lt(e.uniqBy),li=lt(e.uniqWith),pi=lt(e.unless),fi=lt(e.unnest),hi=lt(e.until),di=lt(e.update),yi=pt(e.useWith),mi=ft(e.values),gi=lt(e.valuesIn),vi=lt(e.when),Mi=pt(ct(e.where)),ki=pt(ct(e.whereEq)),Wi=lt(e.without),xi=lt(e.xprod),wi=lt(e.zip),bi=lt(e.zipObj),qi=lt(e.zipWith),Pi=ht(Math.abs),Ai=ht(Math.acos),Bi=ht(Math.acosh),Ii=ht(Math.asin),Oi=ht(Math.asinh),Ei=ht(Math.atan),ji=lt(Math.atan2),Si=ht(Math.atanh),Li=ht(Math.cbrt),Di=ht(Math.ceil),Ni=ht(Math.clz32),Ui=ht(Math.cos),Ri=ht(Math.cosh),Ci=ht(Math.exp),zi=ht(Math.expm1),_i=ht(Math.floor),Ti=ht(Math.fround),Ki=lt(Math.hypot),Fi=lt(Math.imul),Ji=ht(Math.log),Vi=ht(Math.log10),Gi=ht(Math.log1p),Hi=ht(Math.log2),Qi=lt(Math.pow),Xi=ht(Math.round),Yi=ht(Math.sign),Zi=ht(Math.sin),$i=ht(Math.sinh),ta=ht(Math.sqrt),ea=ht(Math.tan),ra=ht(Math.tanh),na=ht(Math.trunc),ia=o.lift(JSON.parse),aa=o.lift(JSON.stringify),oa=i.pipe2U(ar,o.lift1Shallow(e.range(0))),ua=i.curry(function(t,e){var r=[];return i.seq(e,P(function(n,i){var a=n.length,o=i.length;if(o===a)return n;for(var u=Math.min(a,o),c=n.slice(0,u),s=o;s<a;++s)r[s]._onDeactivation();for(var l=u;l<o;++l)c[l]=t(r[l]=rt(l,e),l);return r.length=o,c},[]),L)}),ca=i.curry(function(t,e,r){var n=new Map,o=a.get(t),u=function(t,e,r){return o(t)===r.id};return i.seq(r,P(function(t,i){for(var c=i.length,s=t.length===c?t:Array(c),l=0;l<c;++l){var p=o(i[l]),f=n.get(p);void 0===f&&(n.set(p,f={}),f.id=p,f.hint=l,f.elem=e(f.view=rt(a.find(u,f),r),p)),s[l]!==f.elem&&(f.hint=l,s===t&&(s=s.slice(0)),s[l]=f.elem)}return s!==t&&n.forEach(function(t,e){s[t.hint]!==t.elem&&(t.view._onDeactivation(),n.delete(e))}),s},[]),L)});t.default=f,t.lift=o.lift,t.lift1=o.lift1,t.lift1Shallow=o.lift1Shallow,t.liftStaged=h,t.template=d,t.fromKefir=u.fromKefir,t.debounce=g,t.changes=function(t){return m(t).changes()},t.serially=function(t){return n.concat(e.map(m,t))},t.parallel=v,t.delay=M,t.endWith=k,t.mapValue=W,t.flatMapParallel=x,t.flatMapSerial=w,t.flatMapErrors=b,t.flatMapLatest=q,t.foldPast=P,t.interval=A,t.later=B,t.lazy=function(t){return i.seq(_(),q(t),_)},t.never=I,t.on=O,t.sampledBy=E,t.skipFirst=j,t.skipDuplicates=S,t.skipIdenticals=L,t.skipUnless=D,t.skipWhen=N,t.startWith=U,t.sink=R,t.takeFirst=C,t.takeUntilBy=z,t.toProperty=_,t.throttle=T,t.fromEvents=K,t.set=F,t.Bus=J,t.bus=function(){return new J},t.refTo=function(t){return function(e){null!==e&&t.set(e)}},t.seq=i.seq,t.seqPartial=i.seqPartial,t.scope=function(t){return t()},t.toPartial=function(t){return o.lift(i.arityN(t.length,function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.all(i.isDefined,n)?t.apply(void 0,n):void 0}))},t.show=function(t){return console.log(t)||t},t.staged=function(t){return e.curryN(t.length,function(){for(var e=arguments.length,r=t.length,n=Math.min(e,r),i=Array(n),a=0;a<n;++a)i[a]=arguments[a];var o=t.apply(null,i);if(r===e)return o;for(var u=e-n,c=Array(u),s=0;s<u;++s)c[s]=arguments[s+n];return o.apply(null,c)})},t.setProps=l,t.getProps=V,t.bindProps=function(t){var e=t.ref,r=i.dissocPartialU("ref",t),n={ref:l(r)};return n[e]=V(r),n},t.bind=function(t){return i.assocPartialU("onChange",V(t),t)},t.cns=H,t.classes=function(){return{className:H.apply(void 0,arguments)}},t.mapCached=Y,t.mapIndexed=Z,t.ifte=tt,t.ift=et,t.iftes=function(t,e){for(var r=arguments.length,n=1&r?arguments[--r]:void 0;0<=(r-=2);)n=$(arguments[r],arguments[r+1],n);return n},t.view=rt,t.Context=it,t.withContext=p,t.WithContext=at,t.actions=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return f.apply(void 0,e.concat([ot]))},t.string=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return f.apply(void 0,r.concat([function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return String.raw.apply(String,[t].concat(r))}]))},t.atom=function(t){return new r.Atom(t)},t.variable=function(){return new r.Atom},t.molecule=function(t){return new r.Molecule(t)},t.holding=r.holding,t.F=dt,t.T=yt,t.__=mt,t.add=gt,t.addIndex=vt,t.adjust=Mt,t.all=kt,t.allPass=Wt,t.always=xt,t.and=wt,t.any=bt,t.anyPass=qt,t.ap=Pt,t.aperture=At,t.append=Bt,t.apply=It,t.applySpec=Ot,t.applyTo=Et,t.ascend=jt,t.assoc=St,t.assocPath=Lt,t.binary=Dt,t.both=Nt,t.call=Ut,t.chain=Rt,t.clamp=Ct,t.comparator=zt,t.complement=_t,t.compose=Tt,t.concat=Kt,t.cond=Ft,t.construct=Jt,t.constructN=Vt,t.contains=Gt,t.converge=Ht,t.countBy=Qt,t.curry=Xt,t.curryN=Yt,t.dec=Zt,t.defaultTo=$t,t.descend=te,t.difference=ee,t.differenceWith=re,t.dissoc=ne,t.dissocPath=ie,t.divide=ae,t.drop=oe,t.dropLast=ue,t.dropLastWhile=ce,t.dropRepeats=se,t.dropRepeatsWith=le,t.dropWhile=pe,t.either=fe,t.empty=he,t.endsWith=de,t.eqBy=ye,t.eqProps=me,t.equals=ge,t.evolve=ve,t.filter=Me,t.find=ke,t.findIndex=We,t.findLast=xe,t.findLastIndex=we,t.flatten=be,t.flip=qe,t.fromPairs=Pe,t.groupBy=Ae,t.groupWith=Be,t.gt=Ie,t.gte=Oe,t.has=Ee,t.hasIn=je,t.head=Se,t.identical=Le,t.identity=De,t.ifElse=Ne,t.inc=Ue,t.indexBy=Re,t.indexOf=Ce,t.init=ze,t.innerJoin=_e,t.insert=Te,t.insertAll=Ke,t.intersection=Fe,t.intersperse=Je,t.into=Ve,t.invert=Ge,t.invertObj=He,t.invoker=Qe,t.is=Xe,t.isEmpty=Ye,t.isNil=Ze,t.join=$e,t.juxt=tr,t.keys=er,t.keysIn=rr,t.last=nr,t.lastIndexOf=ir,t.length=ar,t.lt=or,t.lte=ur,t.map=cr,t.mapAccum=sr,t.mapAccumRight=lr,t.mapObjIndexed=pr,t.match=fr,t.mathMod=hr,t.max=dr,t.maxBy=yr,t.mean=mr,t.median=gr,t.memoizeWith=vr,t.merge=Mr,t.mergeAll=kr,t.mergeDeepLeft=Wr,t.mergeDeepRight=xr,t.mergeDeepWith=wr,t.mergeDeepWithKey=br,t.mergeWith=qr,t.mergeWithKey=Pr,t.min=Ar,t.minBy=Br,t.modulo=Ir,t.multiply=Or,t.nAry=Er,t.negate=jr,t.none=Sr,t.not=Lr,t.nth=Dr,t.nthArg=Nr,t.o=Ur,t.objOf=Rr,t.of=Cr,t.omit=zr,t.or=_r,t.pair=Tr,t.partial=Kr,t.partialRight=Fr,t.partition=Jr,t.path=Vr,t.pathEq=Gr,t.pathOr=Hr,t.pathSatisfies=Qr,t.pick=Xr,t.pickAll=Yr,t.pickBy=Zr,t.pipe=$r,t.pluck=tn,t.prepend=en,t.product=rn,t.project=nn,t.prop=an,t.propEq=on,t.propIs=un,t.propOr=cn,t.propSatisfies=sn,t.props=ln,t.range=pn,t.reduce=fn,t.reduceBy=hn,t.reduceRight=dn,t.reduceWhile=yn,t.reduced=mn,t.reject=gn,t.remove=vn,t.repeat=Mn,t.replace=kn,t.reverse=Wn,t.scan=xn,t.sequence=wn,t.slice=bn,t.sort=qn,t.sortBy=Pn,t.sortWith=An,t.split=Bn,t.splitAt=In,t.splitEvery=On,t.splitWhen=En,t.startsWith=jn,t.subtract=Sn,t.sum=Ln,t.symmetricDifference=Dn,t.symmetricDifferenceWith=Nn,t.tail=Un,t.take=Rn,t.takeLast=Cn,t.takeLastWhile=zn,t.takeWhile=_n,t.tap=Tn,t.test=Kn,t.times=Fn,t.toLower=Jn,t.toPairs=Vn,t.toPairsIn=Gn,t.toString=Hn,t.toUpper=Qn,t.transduce=Xn,t.transpose=Yn,t.traverse=Zn,t.trim=$n,t.tryCatch=ti,t.type=ei,t.unapply=ri,t.unary=ni,t.uncurryN=ii,t.unfold=ai,t.union=oi,t.unionWith=ui,t.uniq=ci,t.uniqBy=si,t.uniqWith=li,t.unless=pi,t.unnest=fi,t.until=hi,t.update=di,t.useWith=yi,t.values=mi,t.valuesIn=gi,t.when=vi,t.where=Mi,t.whereEq=ki,t.without=Wi,t.xprod=xi,t.zip=wi,t.zipObj=bi,t.zipWith=qi,t.abs=Pi,t.acos=Ai,t.acosh=Bi,t.asin=Ii,t.asinh=Oi,t.atan=Ei,t.atan2=ji,t.atanh=Si,t.cbrt=Li,t.ceil=Di,t.clz32=Ni,t.cos=Ui,t.cosh=Ri,t.exp=Ci,t.expm1=zi,t.floor=_i,t.fround=Ti,t.hypot=Ki,t.imul=Fi,t.log=Ji,t.log10=Vi,t.log1p=Gi,t.log2=Hi,t.pow=Qi,t.round=Xi,t.sign=Yi,t.sin=Zi,t.sinh=$i,t.sqrt=ta,t.tan=ea,t.tanh=ra,t.trunc=na,t.parse=ia,t.stringify=aa,t.indices=oa,t.mapElems=ua,t.mapElemsWithIds=ca,Object.defineProperty(t,"__esModule",{value:!0})});
